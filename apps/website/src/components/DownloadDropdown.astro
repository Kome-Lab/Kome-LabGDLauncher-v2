---
import yaml from "js-yaml";
import Button from "./button/Button";
import { AiOutlineArrowDown } from "solid-icons/ai";
import Windows from "../assets/Windows";
import Apple from "../assets/Apple";
import Linux from "../assets/Linux";
const response = await Promise.all([
  fetch("https://cdn-raw.gdl.gg/launcher/alpha.yml"),
  fetch("https://cdn-raw.gdl.gg/launcher/alpha-mac.yml"),
  fetch("https://cdn-raw.gdl.gg/launcher/alpha-linux.yml"),
]);
const yamlfiles = await Promise.all(response.map((val) => val.text()));
const downloadLinks = yamlfiles
  .map((val) => yaml.load(val))
  .map((val: any) => `https://cdn-raw.gdl.gg/launcher/${val.path}`);
---

<Button
  items={[
    {
      item: (
        <a class="flex items-center gap-2 p-1">
          <Apple /> MacOS
        </a>
      ) as Element,
    },
    {
      item: (
        <a class="flex items-center gap-2 p-1">
          <Windows /> Windows
        </a>
      ),
    },
    {
      item: (
        <a class="flex items-center gap-2 p-1">
          <Linux /> Linux
        </a>
      ),
    },
  ]}
  isDropdown={true}
  intent="primary"
  size="medium"
  class="items-center"
>
  <span>DOWNLOAD FOR</span>
  <AiOutlineArrowDown size={20} />
</Button>
